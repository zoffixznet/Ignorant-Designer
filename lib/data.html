package Fake;
use utf8;

1;

__DATA__

@@ index.html.ep
% layout 'default';

<h2>Recent Blog Posts</h2>

<ul>
% for my $post ( @$posts ) {
    <li><a href="/blog/<%= $post->{url} %>"
        ><%= $post->{date} %> / <%= $post->{title}%></a
    ></li>
% }
</ul>

@@ blog.html.ep
% layout 'default';

<h2><%= $blog_title %></h2>

<%== $blog_body %>

@@ about.html.ep
% layout 'default';

<h2>About</h2>

@@ contact.html.ep
% layout 'default';

<h2>Contact</h2>

@@ admin/index.html.ep
% layout 'default';

@@ 404.html.ep
% layout 'default';

<h2>404 — Page Not Found</h2>

<p>The page you requested was moved or deleted.</p>

@@ admin/index.html.ep
% layout 'default';

<h2>Admin</h2>

@@ login.html.ep
% layout 'default';

<h2>Login</h2>

<p>Note: the authorized area of this site is currently disabled.</p>

%= form_for '/login' => (method => 'POST') => begin
    %= csrf_field

    % if (stash 'login_failed') {
      <p class="dui error message">Authorized area has been disabled on this site</p>
    % }


    <ul>
        <li>
            %= label_for user => 'User'
            %= text_field 'user', id => 'user'
        </li>
        <li>
            %= label_for password => 'Password'
            %= password_field 'password', id => 'password'
        </li>
    </ul>
    %= submit_button 'Login'
% end

@@ layouts/default.html.ep
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title><%= title %> Ignorant Designer</title>
</head>
<body>
    <h1>Ignorant Designer — All That Is Wrong With Things</h1>

    <nav>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
        </ul>
    </nav>

    <%= content %>
</body>
